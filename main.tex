%%%%%%%%%%%%%%
% Modelo XXXXXXXXXXXXXXX
% Autor: Leonardo Garcez Dalenogari Alba
% Ano: 2022
% Contato: leonardo.2017007421@aluno.iffar.edu.br

% IMPORTANTE: 
%   O modelo utiliza o compilador XeLaTex (talvez possam ser utilizados outros, mas não é garantido o correto funcionamento, visto que seria necessário testar, porém, eu sei que alguns vão apresentar problemas na hora de compilar, como o pdflatex)
%   Se você estiver utilizando o Overleaf, com o documento aberto, clique em Menu, no canto superior esquerdo, e selecione o XeLaTex como compilador
%   Também é utilizado o biber para gerenciar as referências bibliográficas
%%%%%%%%%%%%%%

\documentclass[
    12pt, % Tamanho de fonte definido para 12, se você precisar utilizar um texto em tamanho 10, utilize o comando \footnotesize, que será impresso em tamanho 10
    oneside,
    %twoside, % A opção permite gerar o documento utilizando o verso das páginas, porém, ela não indica à impressora que você está utilizando isso ou que ela deva imprimir nos dois lados das folhas (fonte: https://en.wikibooks.org/wiki/LaTeX/Document_Structure)
    %openany,
    %openright,
    a4paper,
    english,
    brazil
]{report}

% Pacotes que envolvem codificação do conteúdo. Essenciais.
\usepackage[T1]{fontenc}
% \usepackage[utf8]{inputenc} % Não é necessário se você estiver utilizando um compilador LaTeX baseado já em UTF-8

% Responsável pela quebra silábica de palavras no final de linha de forma correta para o português
\usepackage[brazil]{babel}
% O pacote babel recomenda o uso do csquotes, para garantir que textos citados estejam escritos corretamente de acordo com as regras do seu idioma.
\usepackage[portuguese=brazilian]{csquotes}

%% Pacotes para formatação de fonte do documento
\usepackage{fontspec}
% Pode ser Times New Roman:
% \setmainfont{Times New Roman} 
% Ou pode ser Arial, também:
\setmainfont{Arial}

% Pacote responsável por adicionar símbolos matemáticos. Símbolos, por exemplo, também necessários para o correto referenciamento de leis e decretos
\usepackage{amssymb}
% Só que também é importante realizar a configuração para adicionar os comandos que imprimem esses símbolos associados aos caracteres que imprimem, assim, você pode adicionar o símbolo diretamente no texto
\usepackage{newunicodechar} % Pacote que permite definir novos caracteres
\usepackage{config/unicode-char} % Arquivo de configuração com a listagem desses caracteres

%% Pacotes para formatação de conteúdo na página
\usepackage[left=3cm,top=3cm,right=2cm,bottom=2cm]{geometry} % Pacote responsável por formatar as dimensões das margens das páginas.
\usepackage{setspace} % Adiciona opções de espaçamento de texto
\usepackage{ragged2e} % Adiciona opções mais completas para alinhamento de texto
\usepackage{indentfirst} % Faz com que o primeiro parágrafo de cada seção possua identação também

% Pacote que permite criar estilos para o cabeçalho
\usepackage{fancyhdr}
\usepackage{config/cabecalho} % Cabeçalho customizado para o modelo

% Permite customizar as notas de rodapé. Necessário para a identação das notas
\usepackage[hang]{footmisc}
\usepackage{config/rodape} % Filete do rodapé customizado para o padrão ABNT

%% Adiciono os pacotes para configurar e estilizar o sumário e as seções
\usepackage{titletoc}
\usepackage{titlesec}
\usepackage{alphalph} % Permite lidar com contadores que possuam valor maior que 26 utilizando o alfabeto (o número de letras), ou seja, se passar de 26, vai utilizar AA, AB, AC... Nativamente o LaTeX não realiza esse controle

%% Criar as seções de Apêndice e Anexos para permitir a listagem. No caso, existem duas abordagem que podem ser utilizadas:
% A primeira cria um novo nível hierárquico abaixo de \part, que não é \chapter
% Fonte: https://tex.stackexchange.com/a/394117
% Crio o Apêndice
% \titleclass{\apendice}{straight}[\part]
% \newcounter{apendice}
% \renewcommand{\theapendice}{\Alph{apendice}}
% % Crio o Anexo
% \titleclass{\anexo}{straight}[\part]
% \newcounter{anexo}
% \renewcommand{\theanexo}{\Alph{anexo}}

% A segunda, que é a utilizada, cria um novo comando que utiliza um \chapter, mantendo a ordem hierárquica, sem bagunçar a estrutura
% Fonte: https://tex.stackexchange.com/a/329928
% Crio o Apêndice
\newcounter{apendice}
\renewcommand{\theapendice}{\AlphAlph{\value{apendice}}}
\newcommand{\apendice}[1]{\refstepcounter{apendice}
    \chapter*{Apêndice \theapendice\space--\space#1}
    \addcontentsline{toc}{chapter}{Apêndice \theapendice\space--\space#1}
  }
% Crio o Anexo
\newcounter{anexo}
\renewcommand{\theanexo}{\AlphAlph{\value{anexo}}}
\newcommand{\anexo}[1]{\refstepcounter{anexo}
    \chapter*{Anexo \theanexo\space--\space#1}
    \addcontentsline{toc}{chapter}{Anexo \theanexo\space--\space#1}
  }

%% Agora customizo as seções e sumário para seguirem as normas do IFFar (itens adicionais do sumário, como apêndice e anexos, também são configurados nesses arquivos)
\usepackage{config/sumario} % Importa o sumário feito para o modelo
%% Adiciona a possibilidade de estilizar os títulos de seções, subseções e afins
\usepackage{config/titulo-sections} % Importa as estilizações feitas das seções e subseções para o modelo

% Pacote para facilitar a customização de listas numeradas, que serão utilizadas para as alíneas e subalíneas
\usepackage{enumitem}
% Criando o contador de itens do enumerate usando letras (as alíneas), porém, usando os valores do pacote alphalph (que permite apresentar itens com letras dobradas quando todas as letras são esgotadas)
% Fonte: https://tex.stackexchange.com/a/594860
% Obs.: O contador criado atualmente utiliza um tamanho de 2 letras, que cria um tamanho visualmente semelhante ao utilizado no Guia de Normalização e na NBR 6024:2012, porém, se você for estourar o limite de 2 letras, o que é extremamente improvável, você também pode alterar a linha para: \AddEnumerateCounter{\alphalphFmt}{\@alphfmt}{aaa}. Isso possui função apenas estética para manter o padrão nas listas no documento inteiro, porque, sem realizar isso, a lista ainda vai apresentar corretamente os itens
\makeatletter
\newcommand{\AlphAlphFmt}[1]{\@alphfmt{#1}}  % Define the \alphalph wrapper for enumitem 
\newcommand{\@alphfmt}[1]{\alphalph{\value{#1}}}  % Internal representation 
\AddEnumerateCounter{\alphalphFmt}{\@alphfmt}{aa} % Register this new format
\makeatother
% Criando a lista genérica, para o usuário inserir o label que quiser, mas seguindo as mesmas margens das alíneas. Essa é a estrutura base utilizada para as alíneas e subalíneas
\newenvironment{listaGenerica}[1]{
  \begin{enumerate}[
    label={#1\space}, 
    align=left, 
    labelindent=\parindent, 
    labelwidth=0pt, 
    labelsep=0pt, 
    itemindent=0pt, 
    leftmargin=*,
    topsep=0pt,
    partopsep=0pt,
    parsep=0pt,
    itemsep=0pt,
    ]}
{\end{enumerate}}
% Criando o ambiente de alínea
%[wide, label={\AlphAlphFmt*)}, leftmargin=\parindent]
\newenvironment{alinea}%
{\begin{listaGenerica}{\AlphAlphFmt*)}}{\end{listaGenerica}}
% {\begin{enumerate}[label={\AlphAlphFmt*)\space}, align=left, labelindent=\parindent, labelwidth=0pt, labelsep=0pt, itemindent=0pt,leftmargin=*]}{\end{enumerate}}
% Criando o ambiente de subalínea
\newenvironment{subalinea}%
{\begin{listaGenerica}{---}}{\end{listaGenerica}}
% {\begin{enumerate}[label={---\space}, align=left, labelindent=\parindent, labelwidth=0pt, labelsep=0pt, itemindent=0pt,leftmargin=*]}{\end{enumerate}}
\newenvironment{leiParagrafo}%
{\begin{listaGenerica}[LOL]}{\end{listaGenerica}}


\usepackage{graphicx,graphicx} % Adiciona a capacidde de adicionar figuras.
\graphicspath{ {./img/} } % Adiciona um caminho padrão para arquivo
% Figuras podem ser imagens (SVG, por padrão, não funciona), mas documentos PDF também são compatíveis
% Permite modificar a apresentação das legendas (caption) de figuras, quadros e tabelas
\usepackage[labelsep=endash, font=footnotesize]{caption} % Modifica a separação da numeração da legenda com a descrição dela e também diminui o tamanho da fonte

%% Pacotes para adicionar o uso de citações e referências no padrão ABNT
% Usa o biber por ser uma versão mais parruda de biblatex, que é uma versão mais parruda do bibtex, ou algo assim. É importante por resolver uma quantia de erros por conta de caracteres, principalmente na URL das referências
\usepackage[backend=biber, style=abnt]{biblatex}
\addbibresource{bibliografia.bib}

%Pacote responsável por permitir colocar url. Ele cria link de atalho no sumário, citações e referência de figuras, tabelas, etc.
\usepackage[hidelinks]{hyperref}
\hypersetup{
    unicode=true
}
\usepackage{url}

\usepackage{lipsum} % Pacote meramente cosmético, para testes. Remova ele quando for utilizar o modelo.

\begin{document}
\onehalfspacing
\justify

\setlength\parindent{1.25cm} % Configura o espaçamento da identação dos parágrafos
\setlength{\parskip}{1.241pt} % Configura o espaço separação entre parágrafos.


\tableofcontents
% \clearpage

% Seção ilustrativa sobre seções e subseções
% \chapter{Teste}
\begingroup
  \chapter{Exemplo de seção primária}
  \lipsum[1-1]

  \section{Exemplo de seção secundária}
  \lipsum[2-4]

  \subsection{Exemplo de seção terciária}
  \lipsum[5-5]

  \subsubsection{Exemplo de seção quaternária}
  \lipsum[6-6]

  \paragraph{Exemplo de seção quinária} % Utiliza-se paragraph para o nível hierarquico inferior à subsubsection. Contudo, foi necessário customizá-lo para apresentar corretamente como um nível de seção
  \lipsum[7-7]

  \paragraph{Exemplo de título com indicação numérica que, ao ocupar mais de uma linha, deve ser, a partir da segunda linha, alinhado abaixo da primeira letra da primeira palavra do título}
  \lipsum[8-8]
\endgroup

\begingroup
  \chapter{Exemplos de elementos comuns}
  \section{Alíneas e subalíneas}
  \lipsum[1-1]
  \begin{alinea}
    \item a matéria da alínea começa por letra minúscula, exceto quando se tratar de     substantivos próprios, e termina em ponto e vírgula, com exceção da última, que termina em ponto final; 
    \item o trecho final da seção correspondente, anterior às alíneas, termina em
    dois pontos;
    \item asdasdsada: 
    \begin{subalinea}
      \item a matéria da alínea começa por letra minúscula, exceto quando se tratar de     substantivos próprios, e termina em ponto e vírgula, com exceção da última, que termina em ponto final; 
      \item o trecho final da seção correspondente, anterior às alíneas, termina em
      dois pontos;
    \end{subalinea}
    \item sdsdsdaa
  \end{alinea}

  Conforme o quadro no Apêndice \ref{apendice:teste} e o Anexo \ref{anexo:teste}. Citando \textcite{brasil-lei-11.892-2008}\
  
  Testesddsdfdfsd

\endgroup

%% Aqui são adicionados os apêndices e anexos. É essencial que eles estejam dentro desse ambiente, para formatar corretamente
\begin{ApendicesAnexos} 
%%
% Se quiser mudar o comportamento do LaTeX de criar uma nova página para cada capítulo, no caso de Apêndices e Anexos, envelope o capítulo em um group e utilize o comando: \let\clearpage\relax, como demonstrado abaixo
\begingroup
\let\clearpage\relax
\apendice{Um exemplo de apêndice}\label{apendice:teste}
\lipsum[6-7]
\endgroup

\begingroup 
\let\clearpage\relax
\anexo{Um exemplo de anexo}\label{anexo:teste}
\lipsum[6-7]
\endgroup
\end{ApendicesAnexos}

\end{document}