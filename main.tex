%%%%%%%%%%%%%%
% Modelo XXXXXXXXXXXXXXX
% Autor: Leonardo Garcez Dalenogari Alba
% Ano: 2022
% Contato: leonardo.2017007421@aluno.iffar.edu.br

% IMPORTANTE: 
%   O modelo utiliza o compilador XeLaTex (talvez possam ser utilizados outros, mas não é garantido o correto funcionamento, visto que seria necessário testar, porém, eu sei que alguns vão apresentar problemas na hora de compilar, como o pdflatex)
%   Se você estiver utilizando o Overleaf, com o documento aberto, clique em Menu, no canto superior esquerdo, e selecione o XeLaTex como compilador
%   Também é utilizado o biber para gerenciar as referências bibliográficas
%%%%%%%%%%%%%%

\documentclass[
    12pt, % Tamanho de fonte definido para 12, se você precisar utilizar um texto em tamanho 10, utilize o comando \footnotesize, que será impresso em tamanho 10
    oneside,
    %twoside, % A opção permite gerar o documento utilizando o verso das páginas, porém, ela não indica à impressora que você está utilizando isso ou que ela deva imprimir nos dois lados das folhas (fonte: https://en.wikibooks.org/wiki/LaTeX/Document_Structure)
    %openany,
    %openright,
    a4paper,
    english,
    brazil
]{report}

% Pacotes que envolvem codificação do conteúdo. Essenciais.
\usepackage[T1]{fontenc}
% \usepackage[utf8]{inputenc} % Não é necessário se você estiver utilizando um compilador LaTeX baseado já em UTF-8

% Responsável pela quebra silábica de palavras no final de linha de forma correta para o português
\usepackage[brazil]{babel}
% O pacote babel recomenda o uso do csquotes, para garantir que textos citados estejam escritos corretamente de acordo com as regras do seu idioma. Mesmo assim foi necessário adaptar para o padrão ABNT.
\usepackage[portuguese=brazilian, style=brazilian]{csquotes}
\usepackage{config/citacao} % As configurações para que as citações longas sigam a ABNT

%% Pacotes para formatação de fonte do documento
\usepackage{fontspec}
% Pode ser Times New Roman:
% \setmainfont{Times New Roman} 
% Ou pode ser Arial, também:
\setmainfont{Arial}

% Pacote responsável por adicionar símbolos matemáticos. Símbolos, por exemplo, também necessários para o correto referenciamento de leis e decretos
\usepackage{amssymb}
% Só que também é importante realizar a configuração para adicionar os comandos que imprimem esses símbolos associados aos caracteres que imprimem, assim, você pode adicionar o símbolo diretamente no texto
\usepackage{newunicodechar} % Pacote que permite definir novos caracteres
\usepackage{config/unicode-char} % Arquivo de configuração com a listagem desses caracteres

%% Pacotes para formatação de conteúdo na página
\usepackage[left=3cm,top=3cm,right=2cm,bottom=2cm]{geometry} % Pacote responsável por formatar as dimensões das margens das páginas.
\usepackage{setspace} % Adiciona opções de espaçamento de texto
\usepackage[skip=1.241pt, indent=1.25cm]{parskip}
\usepackage{ragged2e} % Adiciona opções mais completas para alinhamento de texto
\usepackage{indentfirst} % Faz com que o primeiro parágrafo de cada seção possua indentação também

% Pacote que permite criar estilos para o cabeçalho
\usepackage{fancyhdr}
\usepackage{config/cabecalho} % Cabeçalho customizado para o modelo

%% Adiciono os pacotes para configurar e estilizar o sumário e as seções
% \usepackage{tocloft}
\usepackage{titletoc} % Não consegui criar pelo titletoc a parte de todas as seções estarem alinhadas, então vou usar o tocloft
\usepackage{titlesec}
\usepackage{alphalph} % Permite lidar com contadores que possuam valor maior que 26 utilizando o alfabeto (o número de letras), ou seja, se passar de 26, vai utilizar AA, AB, AC... Nativamente o LaTeX não realiza esse controle
\usepackage{config/apendice-anexo} % Criação dos comandos para apêndice e anexo

%% Agora customizo as seções e sumário para seguirem as normas do IFFar (itens adicionais do sumário, como apêndice e anexos, também são configurados nesses arquivos)
\usepackage{config/sumario} % Importa o sumário feito para o modelo
%% Adiciona a possibilidade de estilizar os títulos de seções, subseções e afins
\usepackage{config/titulo-sections} % Importa as estilizações feitas das seções e subseções para o modelo

% Pacote para facilitar a customização de listas numeradas, que serão utilizadas para as alíneas e subalíneas
\usepackage{enumitem}
\usepackage{config/enumerate} % Definição das listas de alíneas, subalíneas e índice

\usepackage{float} % Adiciona configurações adicionais para elementos float (figuras, tabelas, quadros, etc.)
\usepackage{tabularx} % Tabelas no LaTeX são limitadas em algumas características, este pacote resolve algumas dessas falhas
\usepackage{multirow} % Permite criar células com múltiplas linhas nas tabelas
\usepackage{colortbl} % Permite colorir as células de tabelas
\usepackage[table]{xcolor} % Permite adicionar cores no LaTeX. Utilizado para colorir células no quadro do cronograma com cores específicas
\definecolor{cinzaescurinho}{RGB}{38,38,38}
\definecolor{cinzaclarinho}{RGB}{95,95,95}
\definecolor{cinzadestaque}{RGB}{200,200,200}

\usepackage{graphicx} % Adiciona a capacidde de adicionar figuras, além de outras funcionalidade que podem ser utilizadas em quadros e tabelas.
% Figuras podem ser imagens (SVG, por padrão, não funciona), mas documentos PDF também são compatíveis
\graphicspath{ {./img/} } % Adiciona um caminho padrão para arquivo
% Permite modificar a apresentação das legendas (caption) de figuras, quadros e tabelas
\usepackage[labelsep=endash, font=singlespacing, justification=centering]{caption} % Modifica a separação da numeração da legenda com a descrição dela
\usepackage{newfloat} % Permite criar floats, como o caso dos quadros, de forma prática
\DeclareFloatingEnvironment[listname={Lista de quadros}, name={Quadro}]{quadro} % Crio o elemento float Quadro
% Removo a contabilização de capítulo na numeração das figuras, tabelas e quadros (isso ocorre ao utilizar o documentclass de book ou report)
\counterwithout{figure}{chapter} 
\counterwithout{table}{chapter}
\counterwithout{quadro}{chapter}
% Obs.: Se você precisar criar outro elemento (e outra lista), como de gráficos ou de qualquer outro tipo, é, teoricamente, bastante simples: 
%   - Você declara o novo ambiente com o \DeclareFloatingEnvironment, junto com o nome do elemento e o título de sua lista
%   - Remove a contabilização do capítulo com o \counterwithout (apesar que acho que isso pode ser realizado no próprio \DeclareFloatingEnvironment)
%   - E depois vai no final do arquivo config/sumario.sty e copia a estilização usada para os elementos de figura ou tabela, realizando a modificação do nome do elemento

%% Pacotes para adicionar o uso de citações e referências no padrão ABNT
% Permite customizar as notas de rodapé. Necessário para a indentação das notas
\usepackage[hang]{footmisc}
\usepackage{config/rodape} % Configurações das notas de rodapé
% Usa o biber por ser uma versão mais parruda do bibtex, adicionalmente, utilizando o pacote biblatex. É importante por resolver uma quantia de erros por conta de caracteres especiais, principalmente na URL das referências
\usepackage[backend=biber, style=abnt, repeatfields]{biblatex}
\addbibresource{bibliografia.bib} % Você pode adicionar mais de um arquivo.bib, apenas adicione outra linha com o nome do segundo arquivo
\usepackage{config/bibliografia-abnt} % Ajustes necessários por causa que o pacote biblatex-abnt não foi atualizado para algumas das mais novas normas da ABNT

% Pacote responsável por permitir criar o índice. Se você não for utilizar índice, e provavelmente não vai, é só comentar essas duas linhas abaixo e o comando \printindex no final do documento
\usepackage{imakeidx}
\makeindex[columns=1, title=Índice]

%Pacote responsável por permitir colocar url. Ele cria link de atalho no sumário, citações e referência de figuras, tabelas, etc.
\usepackage[hidelinks]{hyperref}
\hypersetup{
    unicode=true
}
\usepackage{url}

\usepackage{lipsum} % Pacote meramente cosmético, para testes. Remova ele quando for utilizar o modelo.

\begin{document}
\onehalfspacing
\justifying
% \setlength\parindent{1.25cm}% Configura o espaçamento da indentação dos parágrafos
% \setlength\parskip{1.241pt}% Configura o espaço separação entre parágrafos.
\include{elementos/DADOS.tex}

\include{elementos/capa.tex} % ITEM OBRIGATÓRIO
\include{elementos/folha-rosto.tex}  % ITEM OBRIGATÓRIO
\include{elementos/folha-aprovacao.tex}  % ITEM OBRIGATÓRIO
\begin{SecoesNaoNumeradas}
  \include{elementos/dedicatoria.tex}
  \include{elementos/agradecimentos.tex}
  \include{elementos/epigrafe.tex}
  \include{elementos/resumo.tex} % ITEM OBRIGATÓRIO
  \include{elementos/abstract.tex} % ITEM OBRIGATÓRIO

  \renewcommand\addvspace[1]{} % Remove o espaço adicional nos títulos das listas de figuras, tabelas e quadros
  % Lista de figuras:
  \listoffigures
  % Lista de tabelas:
  \listoftables
  % Lista de quadros:
  \listofquadros
  % Adicione aqui as outras listas que você criar, como lista de gráficos, fotos, etc.

  \include{elementos/lista-siglas.tex}
  \include{elementos/lista-simbolos.tex}

  %Sumário
  \tableofcontents  % ITEM OBRIGATÓRIO
\end{SecoesNaoNumeradas}
% \clearpage

\begingroup
  \input{capitulos/1-introducao.tex}
\endgroup

\begingroup
  \input{capitulos/2-configuracao.tex}
\endgroup

\begingroup
  \input{capitulos/3-elementos-opcionais.tex}
\endgroup

\begingroup
  \input{capitulos/4-elementos-comuns.tex}    
\endgroup

\begingroup
  \input{capitulos/5-referencias.tex}
\endgroup

%% Aqui são adicionados as referências, apêndices e anexos. É essencial que eles estejam dentro desse ambiente, para formatar corretamente o título da seção deles
\begin{SecoesNaoNumeradas}
%% Aqui é impressa a lista de referências bibliográficas
\begingroup
  \begin{FlushLeft} % As referências devem apresentar alinhamento à esquerda
    \begin{singlespace} % Referências usam espaço simples
      \setlength\bibitemsep{\baselineskip} % Defino que o espaço para separar cada referência é o da altura de uma linha, conforme a ABNT exige
      % heading=bibintoc imprime o nome da seção das referências sem numeração e adiciona no sumário
      % title=Referências modifica o nome da seção, que normalmente seria "Bibliografia", por conta que é o nome utilizado pelos documentclass book e report
      \printbibliography[heading=bibintoc, title=Referências] % ITEM OBRIGATÓRIO
    \end{singlespace}
  \end{FlushLeft}
\endgroup

\include{elementos/glossario.tex}

%% Depois das referências, apresentam-se os apêndices e, depois, os anexos
\begingroup
\apendice{Um exemplo de apêndice}\label{apendice:teste}
\lipsum[6-7]
\endgroup

\begingroup 
\anexo{Um exemplo de anexo}\label{anexo:teste}
\lipsum[6-7]
\endgroup

\printindex % Comente esta linha se não for utilizar índice

\end{SecoesNaoNumeradas}

\end{document}